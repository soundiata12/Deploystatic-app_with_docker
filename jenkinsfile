pipeline{
    agent any
        
    
    stages{
        state("fetch")
        stage("build image"){
            steps{
                script{
                    // This step should not normally be used in your script. Consult the inline help for details.
                      withDockerRegistry(credentialsId: 'dockerhubid ') {
                       sh 'docker build -t app:1.0.3.'
                       sh 'docker tag static-app:l.0.3 soundiata87/static-app:latest'
                       sh 'docker push soundiata87/static-app:1.0.3'
                       sh 'docker rmi static-app'
                }
             }
            }
        }
    }
}
        